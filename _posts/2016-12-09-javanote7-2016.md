---
layout:     post
title:      "java学习笔记7"
subtitle:   "复用类"
date:       2016-12-9 16:36:20
author:     "LeoHe"
header-img: "img/post-bg-2015.jpg"
tags:
    - Java
---


# 第七章 复用类


<p color="green">复用代码是Java众多引人瞩目的功能之一。但是要想成为极具革命性语言，仅仅能够复制代码并加以改变是不够的，它必须能够做更多的事情。
			--摘自Java编程思想
</p>


## 组合
将对象的引用置于新的类中

```java
public class A{
	private B bRef;
}
```

## 继承

继承是所有OOP语言和Java语言不可缺少的组成部分。
当创建一个类的时候，总是在继承，所有的类都继承自Object类。

```java
public class A extends B{
    //statement
}

public class A implements InterfaceB{
    //statement
}

public class A extends AbstractClassB{
    //statement
}

public interface A extends InterfaceB{
    //statement
}
```


## 代理

Java并没有提供对它的直接支持，代理是组合与集成的中庸之道。



```java
public class SpaceController{
    void up(){
    	
    }
    void down(){
    
    }
    void left(){
    
    }
    void right(){
    
    }
}

public class SpaceShip{
  //
}

public class SpaceShipDelgation{
    SpaceController mController;
    
    void up(){
        mController.up();
    }
    //...
    
    void right(){
        mController.right();
    }
}

```

以上代码，我们可以通过继承的方式来实现，但是，SpaceShip并不是从属于SpaceController类型的，没有什么实际的意义。
因此，可以将SpaceController作为SpaceShip中的成员，并将其所有方法暴露出来。


## 结合使用组合与继承



## protected关键字

包内访问权限，


## 向上转型

```java
public class B{

}

public class A extends B{

}

public class Main{
    public static void main(String[] rags){
        B b = new A();
    }
}
```


## final 关键字

final 域：
* 一个永远不改变的 *编译时常量*
* 一个再运行时北初始化的值，不希望被改变。

一个既是static有是final的域只是占据一段不能改变的存储空间。

final 方法：
使用final方法的原因有两个
* 把方法锁住，以防止任何继承类修改它的含义
* 效率，在早期的Java实现中，final方法类似于c++的内联函数。


final和private关键字

类中所有的private方法都隐式的指定为final，由于无法获取private方法，所以也就无法覆盖它。可以对private方法添加final修饰词，但这并不能给该方法增加任何额外的意义。

覆盖只有再某方法是基类的接口的一部分时才会出现，即，必须能将一个对象向上转型为它的基本类型并调用相同的方法，如果一个方法为private，它就不是基类的接口的一部分，仅仅是为了隐藏代码。


## 初始化及类的加载
[深入理解Java类加载机制](http://www.cnblogs.com/ITtangtang/p/3978102.html)
