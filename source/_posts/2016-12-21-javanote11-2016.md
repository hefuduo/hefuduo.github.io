---
layout:     post
title:      "Java学习笔记11"
subtitle:   "持有对象"
date:       2016-12-21 17:38:00
author:     "LeoHe"
header-img: "img/post-bg-2015.jpg"
tags:
    - Java
---

[TOC]

# 第 11 章 持有对象



> 如果一个程序只包含固定数量的，且其生命周期都是==已知==的对象，那么这是一个非常简单点的程序。



## 11.1 泛型和类型安全的容器

带有泛型的容器可以在编译时就检查错误。使用Java SE5之前的容器，编译器允许插入不同类型的对象，正常情况下，编译器会发出警告信息，因为没有使用泛型，我们可以使用注解来抑制警告：见下.



> @SuppressWarning:J2SE 提供的最后一个批注是 @SuppressWarnings。该批注的作用是给编译器一条指令，告诉它对被批注的代码元素内部的某些警告保持静默。

```java
class Apple{
  
}

class Orange{
  
}

public class ApplesAndOrangeWithoutGenerics{
  @SuppressWarnings("unchecked")
  public static woid main(String[] args){
    ArrayList apples = new ArrayList();
    
    apples.add(new Apple());
    apples.add(new Orange());
    
    foreach(Apple a : apples){
      //crash
    }
    
    //因为orange在运行时才知道自己是orange
    ///而编译时是不会报错的。add的对象是一个Object
  }
  
}
```



使用泛型来防止错误与编译时

```java

ArrayList<Apple> apples = new ArrayList<>();

apples.add(new Apple());

apples.add(new Orange());//不能通过编译
```

并且通过这种方式，从List中读取对象的时候，也不需要强制类型转换，因为List已经知道它存储的对象类型了。





## 11.2 基本概念

> java中容器类类库的用途是“保存对向”，并将其划分为两个不同的概念。



### 11.2.1 Collection

一个独立元素的序列，元素服从一条或多条规则：List必须按照插入顺序保存元素；Set不能有重复元素；Queue按照排队规则确定对象的生产的顺序。

### 11.2.2 Map

一组成对的“键值对”对象，允许你使用键来查找值。Collection是通过位置索引元素的，而map则是通过字典来索引元素的。







## 11.3 一张图看懂容器

![容器](/img/容器.png)